/*! tjzx.ued version:0.1.0 2014-04-06 11:24:52 */
seajs.config({alias:{jquery:"jquery-1.10.2.js",dialog:"//ued.tjzx.com/plugs/artDialog/v6/src/dialog"}});var msg=window.MSG=function(a,b){"string"==typeof a&&(a={title:"操作提示",content:a,okValue:"确认",ok:function(){return-1===b&&(location.href="/m/login?return_url="+encodeURI(location.href)),this.close(),!1},modal:!0}),seajs.use("dialog",function(b){var c=b(a);a.modal&&c.showModal()||c.show()})},callback=window.CALLBACK=function(a){return!a||a.state<1?(msg(a.msg||"操作异常！",a.state||0),!1):!0};!function(a,b){var c=function(c){if(!b.isArray(c)||!c.length)return!1;c[0].activeCues=' class="active"';var d=new hTemplate({tmp:'<li data-id="{id}"><a href="#"{active}><i class="{cls}"></i>{name}</a>',container:a(".m-nav ul"),empty:""});return d.bind(c),a(".m-nav li:eq(0)").click(),!0},d=function(c){if(!b.isArray(c)||!c.length)return!1;var d=new hTemplate({tmp:'<li><a href="{link}" title="{name}"><i class="{cls}"></i>{name}</a>',container:a(".m-menus ul"),empty:""});return d.bind(c),a(".m-menus li:eq(0)").click(),!0},e=function(){var b=a(".m-nav li a.active"),c=a(".m-menus li a.active"),d=a(".m-crumbs");d.find("dd").remove(),d.append('<dd><a href="#" data-id="'+b.parent().data("id")+'">'+b.text()+"</a></dd>"),d.append('<dd class="active">'+c.text()+"</dd>")},f=function(e){a.ajax({url:"/m/menus",type:"post",dataType:"json",data:{parentId:e,t:Math.random()},success:function(a){return callback(a)?void(b.isObject(a)&&a.length&&(0==e?c(a):d(a))):!1},error:function(){}})};f(0),a(".m-nav,.m-menus").delegate("li","click",function(){var b=a(this).find(">a");if(!a(this).data("id")&&b.hasClass("active"))return!1;b.addClass("active"),a(this).siblings("li").find(">a").removeClass("active");var c=~~a(this).data("id");if(c&&c>0)f(c);else{var d=b.attr("href");a("#framePage").attr("src",d),e()}return!1}),a(".m-crumbs").delegate("a","click",function(){var b=a(this).data("id");return b&&a(".m-nav li[data-id='"+b+"']").click(),!1})}(jQuery,SINGER),$("#framePage").load(function(){var a=1200;try{a=$(this).contents().find("body").height()}catch(b){}$(this).css("height",a+20)});